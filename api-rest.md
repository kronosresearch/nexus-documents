# Nexus REST API

Nexus Rest API General Information:

**Base endpoints:**

- `https://staging.nexus.kronostoken.com/` **(Staging)**
- `https://nexus.kronostoken.com/` **(Production)**

**Authorization:**  
All our interfaces required key to access, and the token will be pre-generated by us.  
Please set `Authorization` in http header, the format is shown in following example:

```js
//               "Bearer [your token]"
"Authorization": "Bearer eyJhbGciOiJSUzI1Ni......."
```

**Symbol:**  
Nexus use the format of `<TYPE>_<BASE>_<QUOTE>` to represent a symbol name, for example: `SPOT_BTC_USDT` means that it is `BTC_USDT` pair in `SPOT` trading market.

---

## Send Order

```
POST /v1/order
```

Place order maker/taker, the order executed information will be update from websocket stream.
will response immediately with an order created message.

**Parameters**

| Name           | Type   | Required | Description            |
| -------------- | ------ | -------- | ---------------------- |
| symbol         | string | Y        |                        |
| order_type     | enum   | Y        | `LIMIT`/`MARKET`/`IOC` |
| order_price    | number | Y        |                        |
| order_quantity | number | Y        |                        |
| sid            | enum   | Y        | `SELL`/`BUY`           |

**Response**

```js
{
  "order_id": 254558,
  "symbol": "SPOT_BTC_USDT",
  "timestamp": 1566182614000
}
```

## Cancel Order

```
DELETE /v1/order/:oid
```

Cancel order by order id. The order cancelled information will be update from websocket stream.
note that we immediate response with an order cancel sent message, and will update the cancel event via websocket channel.

**Parameters**


| Name | Type   | Required | Description                            |
| ---- | ------ | -------- | -------------------------------------- |
| oid  | number | Y        | The order_id `oid` that wish to cancel |


**Response**

```js
{
  "status": "CANCEL_SENT"
}
```


## Get Order

```
GET /v1/order/:oid
```

Get specific order detail by `order_id`.

**Parameters**


| Name | Type   | Required | Description                           |
| ---- | ------ | -------- | ------------------------------------- |
| oid  | number | Y        | The order_id `oid` that wish to query |


**Response**

```js
{
    "order_id": 211,
    "application_id": "87f495d3-e55d-43b6-b927-9c4038c18a32",
    "symbol": "SPOT_BTC_USDT",
    "order_tag": null,
    "order_price": 10894.7,
    "order_quantity": 0.002,
    "order_type": "LIMIT",
    "status": "FILLED",
    "side": "BUY",
    "executed_quantity": 0.002,
    "average_executed_price": 10892.84,
    "created_time": "2019-08-20T01:24:50.010Z",
    "updated_time": "2019-08-20T01:24:50.264Z",

    // Detail transactions of this order
    "Transactions": [
        {
            "id": 2,
            "symbol": "SPOT_BTC_USDT",
            "order_id": 211,
            "external_order_id": "GARBAGE",
            "executed_price": 10892.84,
            "executed_quantity": 0.002,
            "side": "BUY",
            "timestamp": "2019-08-20T01:24:50.250Z",
            "created_time": "2019-08-20T01:24:50.258Z",
            "updated_time": "2019-08-20T01:24:50.258Z"
        }
    ]
}
```

## Get Orders

```
GET /v1/orders
```

Get orders by customize conditions.

**Parameters**


| Name    | Type      | Required       | Description                                                                       |
| ------- | --------- | -------------- | --------------------------------------------------------------------------------- |
| symbol  | string    | Y              |                                                                                   |
| status  | enum      | N              | `NEW`/`CANCELLED`/`PARTIAL_FILLED`/`FILLED`                                       |
| start_t | timestamp | N              | start time range that wish to query, noted the time stamp is 13-digits timestamp. |
| end_t   | timestamp | N              | end time range that wish to query, noted the time stamp is 13-digits timestamp.   |
| page    | number    | N (default: 1) | the page wish to query.                                                           |


**Response**

```js
{
    "meta": {
        "total_pages": 4,
        "records_per_page": 25,
        "current_page": 1
    },
    "rows": [
        {
            "side": "BUY",
            "status": "FILLED",
            "symbol": "SPOT_BTC_USDT",
            "order_id": 195,
            "created_time": "1566186355.239000",
            "type": "LIMIT",
            "price": 10400,
            "quantity": 0.002,
            "executed": 0.002
        },
        // ....skip (total 25 items in one page)
    ]
}
```

## Orderbook snapshot


```
GET /v1/orderbook/:symbol
```

SNAPSHOT of current orderbook. Price of asks/bids are in descending order.


**Parameters**


| Name      | Type   | Required         | Description                           |
| --------- | ------ | ---------------- | ------------------------------------- |
| max_level | number | N (default: 100) | the levels wish to show on both side. |

**Response**

```js
{
    "asks": [
        {
            "prices": 10669.4,
            "quantity": 1.56263218
        },
        {
            "prices": 10670.3,
            "quantity": 0.36466977
        },
        {
            "prices": 10670.4,
            "quantity": 0.06738009
        }
    ],
    "bids": [
        {
            "prices": 10669.3,
            "quantity": 0.88159988
        },
        {
            "prices": 10669.2,
            "quantity": 0.5
        },
        {
            "prices": 10668.9,
            "quantity": 0.00488286
        }
    ]
}
```


## Get History Trades

```
GET /v1/client/trades
```

Return clientâ€™s trades history in a range of time.

**Parameters**

| Name    | Type      | Required       | Description                                                                       |
| ------- | --------- | -------------- | --------------------------------------------------------------------------------- |
| symbol  | string    | Y              |                                                                                   |
| start_t | timestamp | N              | start time range that wish to query, noted the time stamp is 13-digits timestamp. |
| end_t   | timestamp | N              | end time range that wish to query, noted the time stamp is 13-digits timestamp.   |
| page    | number    | N (default: 1) | the page wish to query.                                                           |

**Response**

```js
{
    "meta": {
        "total_pages": 1,
        "records_per_page": 25,
        "current_page": 1
    },
    "rows": [
        {
            "id": 5, // transaction id
            "symbol": "SPOT_BTC_USDT",
            "order_id": 211,
            "executed_price": 10892.84,
            "executed_quantity": 0.002,
            "executed_timestamp": "1566264290.250000"
        },
        // ....skip (total 25 items in one page)
    ]
}
```


## Get Current Balances

```
GET /v1/client/balance
```

Balance summary of client. Note that the number in balance could be negative, it means how much client owed to Nexus.

**Parameters**

None

**Response**

```js
[
    {
        "symbol": "SPOT_BTC_USDT",
        "base": 0.57,
        "quote": -4855.71906,
        "updated_time": "2019-08-20T01:24:50.285Z"
    }
]
```
