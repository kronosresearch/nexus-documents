# Nexus Websocket API

Nexus Websocket API General Information:

**Base endpoints:**

- `wss://staging.nexus.kronostoken.com/ws/:client_key/:symbol` **(Staging)**
- `wss://nexus.kronostoken.com/ws/:client_key/:symbol` **(Production)**

The `client_key` is pre-generated by us, please contact us for the key.  
For example, your websocket endpoint may looks like:

```
wss://staging.nexus.kronostoken.com/ws/508590cc-e3cd-4390-ba9b-739830f41242/SPOT_BTC_USDT
```

**Symbol:**  
Nexus use the format of `<TYPE>_<BASE>_<QUOTE>` to represent a symbol name, for example: `SPOT_BTC_USDT` means that it is `BTC_USDT` pair in `SPOT` trading market.


**Event Type:**

All the websocket message use same channel, the message is always a JSON string, and would have a attribute called `event` to identify the type of the message.

The enumurate of event type are:

- `PING`: ping-pong event
- `BOOK`: order book update event
- `TRADE`: trade event
- `ORDER_UPDATE`: update of client's order


---

## Ping-Pong 

A ping-pong event that can use to check the system health.

**Send**

```js
{
   "event": "PING"
}
```

**Payload**

```js
{
   "event": "PING"
   "timestamp": 1564710591905,
}
```


## Orderbook Stream

Real-time full limitbook snapshot. Price of asks/bids are in descending order

**Payload**

```js
{
   "event": "BOOK",
   "symbol": "SPOT_BTC_USDT",
   "timestamp": 1564710591905,
   "data": {
       "asks": [{
           "price": 123,
           "quantity": 0.1
       },
       // ...skip
       ],
       "bids": [{
           "price": 100,
           "quantity": 0.1
       },
       // ...skip
       ]
   }
}
```

## Trade Stream

The trade stream will broadcast all trade events.

**Payload**

```js
{
    "event": "TRADE",
    "symbol": "SPOT_BTC_USDT",
    "timestamp": 1566455535271,
    "data": {
        "price": 10005.67,
        "quantity": 0.002099,
        "side": "SELL"
    }
}
```


## Order Update Stream

The order update stream will provides event messages such as: 

- Order been executed (partial filled/full filled)
- Order cancel successed
- Order created

**Payload**

```js
{
   "event": "ORDER_UPDATE",
   "timestamp": 1564710591905,
   "data": {
       "symbol": "SPOT_BTC_USDT",
       "order_type": "LIMIT",
       "order_price": 123,
       "order_quantity": 0.1,
       "order_id": 254558,
       "executed_price": 124,
       "executed_quantity": 0.05,
       "side": "SELL",
       "status": "PARTIAL_FILLED"
   }
}
```

## Transaction stream

The order exectued transaction details

**Payload**

```js
{
   "event": "TRANSACTION",
   "timestamp": 1564710591905,
   "data": {
       "id": 5, // transaction id
       "symbol": "SPOT_BTC_USDT",
       "order_id": 254558,
       "executed_price": 124,
       "executed_quantity": 0.05,
       "side": "SELL",
   }
}
```